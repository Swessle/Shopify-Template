{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.dd5bfa2cfac8dd19b70b.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n\tcreateCheckout,\r\n\tcheckoutLineItemsAdd,\r\n\tcheckoutLineItemsUpdate,\r\n\tcheckoutLineItemsRemove,\r\n\tcheckoutCustomerAssociate,\r\n\taddVariantToCart,\r\n\tupdateLineItemInCart,\r\n\tremoveLineItemInCart,\r\n\tassociateCustomerCheckout\r\n} from \"../lib/checkout\";\r\n\r\nclass index extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tisCartOpen: false,\r\n\t\t\tisCustomerAuthOpen: false,\r\n\t\t\tisNewCustomer: false,\r\n\t\t\tproducts: [],\r\n\t\t\tcheckout: { lineItems: { edges: [] } }\r\n\t\t};\r\n\r\n\t\tthis.handleCartClose = this.handleCartClose.bind(this);\r\n\t\tthis.handleCartOpen = this.handleCartOpen.bind(this);\r\n\t\tthis.openCustomerAuth = this.openCustomerAuth.bind(this);\r\n\t\tthis.closeCustomerAuth = this.closeCustomerAuth.bind(this);\r\n\t\tthis.addVariantToCart = addVariantToCart.bind(this);\r\n\t\tthis.updateLineItemInCart = updateLineItemInCart.bind(this);\r\n\t\tthis.removeLineItemInCart = removeLineItemInCart.bind(this);\r\n\t\tthis.showAccountVerificationMessage = this.showAccountVerificationMessage.bind(\r\n\t\t\tthis\r\n\t\t);\r\n\t\tthis.associateCustomerCheckout = associateCustomerCheckout.bind(this);\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.props\r\n\t\t\t.createCheckout({\r\n\t\t\t\tvariables: {\r\n\t\t\t\t\tinput: {}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcheckout: res.data.checkoutCreate.checkout\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic propTypes = {\r\n\t\tdata: PropTypes.shape({\r\n\t\t\tloading: PropTypes.bool,\r\n\t\t\terror: PropTypes.object,\r\n\t\t\tshop: PropTypes.object\r\n\t\t}).isRequired,\r\n\t\tcreateCheckout: PropTypes.func.isRequired,\r\n\t\tcheckoutLineItemsAdd: PropTypes.func.isRequired,\r\n\t\tcheckoutLineItemsUpdate: PropTypes.func.isRequired\r\n\t};\r\n\r\n\thandleCartOpen() {\r\n\t\tthis.setState({\r\n\t\t\tisCartOpen: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleCartClose() {\r\n\t\tthis.setState({\r\n\t\t\tisCartOpen: false\r\n\t\t});\r\n\t}\r\n\r\n\topenCustomerAuth(event) {\r\n\t\tif (\r\n\t\t\tevent.target.getAttribute(\"data-customer-type\") === \"new-customer\"\r\n\t\t) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisNewCustomer: true,\r\n\t\t\t\tisCustomerAuthOpen: true\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisNewCustomer: false,\r\n\t\t\t\tisCustomerAuthOpen: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tshowAccountVerificationMessage() {\r\n\t\tthis.setState({ accountVerificationMessage: true });\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\taccountVerificationMessage: false\r\n\t\t\t});\r\n\t\t}, 5000);\r\n\t}\r\n\r\n\tcloseCustomerAuth() {\r\n\t\tthis.setState({\r\n\t\t\tisCustomerAuthOpen: false\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.data.loading) {\r\n\t\t\treturn <p>Loading ...</p>;\r\n\t\t}\r\n\t\tif (this.props.data.error) {\r\n\t\t\treturn <p>{this.props.data.error.message}</p>;\r\n\t\t}\r\n\t\treturn <div />;\r\n\t}\r\n}\r\n\r\nconst query = gql`\r\n\tquery query {\r\n\t\tshop {\r\n\t\t\tname\r\n\t\t\tdescription\r\n\t\t\tproducts(first: 20) {\r\n\t\t\t\tpageInfo {\r\n\t\t\t\t\thasNextPage\r\n\t\t\t\t\thasPreviousPage\r\n\t\t\t\t}\r\n\t\t\t\tedges {\r\n\t\t\t\t\tnode {\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t\tproductType\r\n\t\t\t\t\t\tdescription\r\n\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\toptions {\r\n\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\tname\r\n\t\t\t\t\t\t\tvalues\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvariants(first: 250) {\r\n\t\t\t\t\t\t\tpageInfo {\r\n\t\t\t\t\t\t\t\thasNextPage\r\n\t\t\t\t\t\t\t\thasPreviousPage\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tedges {\r\n\t\t\t\t\t\t\t\tnode {\r\n\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\t\t\t\tselectedOptions {\r\n\t\t\t\t\t\t\t\t\t\tname\r\n\t\t\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\t\tsrc\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tprice\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\timages(first: 250) {\r\n\t\t\t\t\t\t\tpageInfo {\r\n\t\t\t\t\t\t\t\thasNextPage\r\n\t\t\t\t\t\t\t\thasPreviousPage\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tedges {\r\n\t\t\t\t\t\t\t\tnode {\r\n\t\t\t\t\t\t\t\t\tsrc\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst IndexWithDataAndMutation = compose(\r\n\tgraphql(query),\r\n\tgraphql(createCheckout, { name: \"createCheckout\" }),\r\n\tgraphql(checkoutLineItemsAdd, { name: \"checkoutLineItemsAdd\" }),\r\n\tgraphql(checkoutLineItemsUpdate, { name: \"checkoutLineItemsUpdate\" }),\r\n\tgraphql(checkoutLineItemsRemove, { name: \"checkoutLineItemsRemove\" }),\r\n\tgraphql(checkoutCustomerAssociate, { name: \"checkoutCustomerAssociate\" })\r\n)(index);\r\n\r\nexport default IndexWithDataAndMutation;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAWA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AArBA;AAsBA;AACA;;;AACA;AAAA;AACA;AAAA;AAEA;AACA;AADA;AADA;AAMA;AACA;AADA;AAGA;AACA;;;AAaA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AArGA;AACA;AADA;AAwCA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AARA;AACA;AAgEA;AA2DA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;;;;A","sourceRoot":""}