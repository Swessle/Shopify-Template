{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kent\\\\Web Development\\\\repo\\\\work\\\\Shopify-Template\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { graphql, compose } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { createCheckout, checkoutLineItemsAdd, checkoutLineItemsUpdate, checkoutLineItemsRemove, checkoutCustomerAssociate, addVariantToCart, updateLineItemInCart, removeLineItemInCart, associateCustomerCheckout } from \"../lib/checkout\";\n\nclass index extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isCartOpen: false,\n      isCustomerAuthOpen: false,\n      isNewCustomer: false,\n      products: [],\n      checkout: {\n        lineItems: {\n          edges: []\n        }\n      }\n    };\n    this.handleCartClose = this.handleCartClose.bind(this);\n    this.handleCartOpen = this.handleCartOpen.bind(this);\n    this.addVariantToCart = addVariantToCart.bind(this);\n    this.updateLineItemInCart = updateLineItemInCart.bind(this);\n    this.removeLineItemInCart = removeLineItemInCart.bind(this);\n    this.showAccountVerificationMessage = this.showAccountVerificationMessage.bind(this);\n    this.associateCustomerCheckout = associateCustomerCheckout.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.createCheckout({\n      variables: {\n        input: {}\n      }\n    }).then(res => {\n      this.setState({\n        checkout: res.data.checkoutCreate.checkout\n      });\n    });\n  }\n\n  handleCartOpen() {\n    this.setState({\n      isCartOpen: true\n    });\n  }\n\n  handleCartClose() {\n    this.setState({\n      isCartOpen: false\n    });\n  }\n\n  openCustomerAuth(event) {\n    if (event.target.getAttribute(\"data-customer-type\") === \"new-customer\") {\n      this.setState({\n        isNewCustomer: true,\n        isCustomerAuthOpen: true\n      });\n    } else {\n      this.setState({\n        isNewCustomer: false,\n        isCustomerAuthOpen: true\n      });\n    }\n  }\n\n  showAccountVerificationMessage() {\n    this.setState({\n      accountVerificationMessage: true\n    });\n    setTimeout(() => {\n      this.setState({\n        accountVerificationMessage: false\n      });\n    }, 5000);\n  }\n\n  closeCustomerAuth() {\n    this.setState({\n      isCustomerAuthOpen: false\n    });\n  }\n\n  render() {\n    if (this.props.data.loading) {\n      return __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Loading ...\");\n    }\n\n    if (this.props.data.error) {\n      return __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, this.props.data.error.message);\n    }\n\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    });\n  }\n\n}\n\n_defineProperty(index, \"propTypes\", {\n  data: PropTypes.shape({\n    loading: PropTypes.bool,\n    error: PropTypes.object,\n    shop: PropTypes.object\n  }).isRequired,\n  createCheckout: PropTypes.func.isRequired,\n  checkoutLineItemsAdd: PropTypes.func.isRequired,\n  checkoutLineItemsUpdate: PropTypes.func.isRequired\n});\n\nconst query = gql`\n\tquery query {\n\t\tshop {\n\t\t\tname\n\t\t\tdescription\n\t\t\tproducts(first: 20) {\n\t\t\t\tpageInfo {\n\t\t\t\t\thasNextPage\n\t\t\t\t\thasPreviousPage\n\t\t\t\t}\n\t\t\t\tedges {\n\t\t\t\t\tnode {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tproductType\n\t\t\t\t\t\tdescription\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\toptions {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\tvalues\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvariants(first: 250) {\n\t\t\t\t\t\t\tpageInfo {\n\t\t\t\t\t\t\t\thasNextPage\n\t\t\t\t\t\t\t\thasPreviousPage\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tedges {\n\t\t\t\t\t\t\t\tnode {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\tselectedOptions {\n\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\timage {\n\t\t\t\t\t\t\t\t\t\tsrc\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\timages(first: 250) {\n\t\t\t\t\t\t\tpageInfo {\n\t\t\t\t\t\t\t\thasNextPage\n\t\t\t\t\t\t\t\thasPreviousPage\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tedges {\n\t\t\t\t\t\t\t\tnode {\n\t\t\t\t\t\t\t\t\tsrc\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\nconst IndexWithDataAndMutation = compose(graphql(query), graphql(createCheckout, {\n  name: \"createCheckout\"\n}), graphql(checkoutLineItemsAdd, {\n  name: \"checkoutLineItemsAdd\"\n}), graphql(checkoutLineItemsUpdate, {\n  name: \"checkoutLineItemsUpdate\"\n}), graphql(checkoutLineItemsRemove, {\n  name: \"checkoutLineItemsRemove\"\n}), graphql(checkoutCustomerAssociate, {\n  name: \"checkoutCustomerAssociate\"\n}))(index);\nexport default IndexWithDataAndMutation;","map":{"version":3,"sources":["D:/Kent/Web Development/repo/work/Shopify-Template/pages/index.js"],"names":["React","Component","PropTypes","graphql","compose","gql","createCheckout","checkoutLineItemsAdd","checkoutLineItemsUpdate","checkoutLineItemsRemove","checkoutCustomerAssociate","addVariantToCart","updateLineItemInCart","removeLineItemInCart","associateCustomerCheckout","index","constructor","state","isCartOpen","isCustomerAuthOpen","isNewCustomer","products","checkout","lineItems","edges","handleCartClose","bind","handleCartOpen","showAccountVerificationMessage","componentWillMount","props","variables","input","then","res","setState","data","checkoutCreate","openCustomerAuth","event","target","getAttribute","accountVerificationMessage","setTimeout","closeCustomerAuth","render","loading","error","message","shape","bool","object","shop","isRequired","func","query","IndexWithDataAndMutation","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { graphql, compose } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\nimport {\r\n\tcreateCheckout,\r\n\tcheckoutLineItemsAdd,\r\n\tcheckoutLineItemsUpdate,\r\n\tcheckoutLineItemsRemove,\r\n\tcheckoutCustomerAssociate,\r\n\taddVariantToCart,\r\n\tupdateLineItemInCart,\r\n\tremoveLineItemInCart,\r\n\tassociateCustomerCheckout\r\n} from \"../lib/checkout\";\r\n\r\nclass index extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tisCartOpen: false,\r\n\t\t\tisCustomerAuthOpen: false,\r\n\t\t\tisNewCustomer: false,\r\n\t\t\tproducts: [],\r\n\t\t\tcheckout: { lineItems: { edges: [] } }\r\n\t\t};\r\n\r\n\t\tthis.handleCartClose = this.handleCartClose.bind(this);\r\n\t\tthis.handleCartOpen = this.handleCartOpen.bind(this);\r\n\t\tthis.addVariantToCart = addVariantToCart.bind(this);\r\n\t\tthis.updateLineItemInCart = updateLineItemInCart.bind(this);\r\n\t\tthis.removeLineItemInCart = removeLineItemInCart.bind(this);\r\n\t\tthis.showAccountVerificationMessage = this.showAccountVerificationMessage.bind(\r\n\t\t\tthis\r\n\t\t);\r\n\t\tthis.associateCustomerCheckout = associateCustomerCheckout.bind(this);\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.props\r\n\t\t\t.createCheckout({\r\n\t\t\t\tvariables: {\r\n\t\t\t\t\tinput: {}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcheckout: res.data.checkoutCreate.checkout\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic propTypes = {\r\n\t\tdata: PropTypes.shape({\r\n\t\t\tloading: PropTypes.bool,\r\n\t\t\terror: PropTypes.object,\r\n\t\t\tshop: PropTypes.object\r\n\t\t}).isRequired,\r\n\t\tcreateCheckout: PropTypes.func.isRequired,\r\n\t\tcheckoutLineItemsAdd: PropTypes.func.isRequired,\r\n\t\tcheckoutLineItemsUpdate: PropTypes.func.isRequired\r\n\t};\r\n\r\n\thandleCartOpen() {\r\n\t\tthis.setState({\r\n\t\t\tisCartOpen: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleCartClose() {\r\n\t\tthis.setState({\r\n\t\t\tisCartOpen: false\r\n\t\t});\r\n\t}\r\n\r\n\topenCustomerAuth(event) {\r\n\t\tif (\r\n\t\t\tevent.target.getAttribute(\"data-customer-type\") === \"new-customer\"\r\n\t\t) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisNewCustomer: true,\r\n\t\t\t\tisCustomerAuthOpen: true\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisNewCustomer: false,\r\n\t\t\t\tisCustomerAuthOpen: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tshowAccountVerificationMessage() {\r\n\t\tthis.setState({ accountVerificationMessage: true });\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\taccountVerificationMessage: false\r\n\t\t\t});\r\n\t\t}, 5000);\r\n\t}\r\n\r\n\tcloseCustomerAuth() {\r\n\t\tthis.setState({\r\n\t\t\tisCustomerAuthOpen: false\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.data.loading) {\r\n\t\t\treturn <p>Loading ...</p>;\r\n\t\t}\r\n\t\tif (this.props.data.error) {\r\n\t\t\treturn <p>{this.props.data.error.message}</p>;\r\n\t\t}\r\n\t\treturn <div />;\r\n\t}\r\n}\r\n\r\nconst query = gql`\r\n\tquery query {\r\n\t\tshop {\r\n\t\t\tname\r\n\t\t\tdescription\r\n\t\t\tproducts(first: 20) {\r\n\t\t\t\tpageInfo {\r\n\t\t\t\t\thasNextPage\r\n\t\t\t\t\thasPreviousPage\r\n\t\t\t\t}\r\n\t\t\t\tedges {\r\n\t\t\t\t\tnode {\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t\tproductType\r\n\t\t\t\t\t\tdescription\r\n\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\toptions {\r\n\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\tname\r\n\t\t\t\t\t\t\tvalues\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvariants(first: 250) {\r\n\t\t\t\t\t\t\tpageInfo {\r\n\t\t\t\t\t\t\t\thasNextPage\r\n\t\t\t\t\t\t\t\thasPreviousPage\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tedges {\r\n\t\t\t\t\t\t\t\tnode {\r\n\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\t\t\t\tselectedOptions {\r\n\t\t\t\t\t\t\t\t\t\tname\r\n\t\t\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\t\tsrc\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tprice\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\timages(first: 250) {\r\n\t\t\t\t\t\t\tpageInfo {\r\n\t\t\t\t\t\t\t\thasNextPage\r\n\t\t\t\t\t\t\t\thasPreviousPage\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tedges {\r\n\t\t\t\t\t\t\t\tnode {\r\n\t\t\t\t\t\t\t\t\tsrc\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst IndexWithDataAndMutation = compose(\r\n\tgraphql(query),\r\n\tgraphql(createCheckout, { name: \"createCheckout\" }),\r\n\tgraphql(checkoutLineItemsAdd, { name: \"checkoutLineItemsAdd\" }),\r\n\tgraphql(checkoutLineItemsUpdate, { name: \"checkoutLineItemsUpdate\" }),\r\n\tgraphql(checkoutLineItemsRemove, { name: \"checkoutLineItemsRemove\" }),\r\n\tgraphql(checkoutCustomerAssociate, { name: \"checkoutCustomerAssociate\" })\r\n)(index);\r\n\r\nexport default IndexWithDataAndMutation;"]},"metadata":{},"sourceType":"module"}